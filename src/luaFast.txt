wc = rws.getRobWorkStudio():getWorkCell()
state = wc:getDefaultState()
device = wc:findDevice("PA10")
marker = wc:findMovableFrame("Marker");


function setQ(q)
qq = rw.Q(#q,q[1],q[2],q[3],q[4],q[5],q[6],q[7])
device:setQ(qq,state)
rws.getRobWorkStudio():setState(state)
rw.sleep(0.1)
end

function moveFrame(q)

matR = rw.Rotation3d(q[4],q[5],q[6],q[7],q[8],q[9],q[10],q[11],q[12])
vecP = rw.Vector3d(q[1],q[2],q[3])
trans = rw.Transform3d(vecP,matR)
marker:setTransform(trans,state)
rws.getRobWorkStudio():setState(state)
rw.sleep(0.1)
end

setQ({0,0,-0.819,1.649,0,0,-1.571})

moveFrame({-0.0315,-0.819,1.649,1,0,-0,0,-0.000203673,1,-0,-1,-0.000203673})
moveFrame({-0.0665,-0.819,1.649,1,0,-0,0,-0.000203673,1,-0,-1,-0.000203673})
moveFrame({-0.1015,-0.819,1.649,1,0,-0,0,-0.000203673,1,-0,-1,-0.000203673})
moveFrame({-0.1365,-0.819,1.649,1,0,-0,0,-0.000203673,1,-0,-1,-0.000203673})
moveFrame({-0.1715,-0.819,1.649,1,0,-0,0,-0.000203673,1,-0,-1,-0.000203673})
moveFrame({-0.2065,-0.819,1.649,1,0,-0,0,-0.000203673,1,-0,-1,-0.000203673})
moveFrame({-0.2415,-0.819,1.649,1,0,-0,0,-0.000203673,1,-0,-1,-0.000203673})
moveFrame({-0.2765,-0.819,1.649,1,0,-0,0,-0.000203673,1,-0,-1,-0.000203673})
moveFrame({-0.3115,-0.819,1.649,1,0,-0,0,-0.000203673,1,-0,-1,-0.000203673})
moveFrame({-0.3465,-0.819,1.649,1,0,-0,0,-0.000203673,1,-0,-1,-0.000203673})
moveFrame({-0.35,-0.819,1.649,0.995953,-0.0898785,-1.83059e-05,0,-0.000203673,1,-0.0898785,-0.995953,-0.000202849})
moveFrame({-0.35,-0.819,1.649,0.982004,-0.188859,-3.84655e-05,0,-0.000203673,1,-0.188859,-0.982004,-0.000200008})
moveFrame({-0.35,-0.819,1.649,0.958244,-0.285952,-5.82408e-05,0,-0.000203673,1,-0.285952,-0.958244,-0.000195169})
moveFrame({-0.35,-0.819,1.649,0.924909,-0.380188,-7.74342e-05,0,-0.000203673,1,-0.380188,-0.924909,-0.000188379})
moveFrame({-0.35,-0.819,1.649,0.882333,-0.470626,-9.58539e-05,0,-0.000203673,1,-0.470626,-0.882333,-0.000179708})
moveFrame({-0.35,-0.819,1.649,0.830941,-0.556361,-0.000113316,0,-0.000203673,1,-0.556361,-0.830941,-0.00016924})
moveFrame({-0.35,-0.819,1.649,0.771246,-0.636537,-0.000129646,0,-0.000203673,1,-0.636537,-0.771246,-0.000157082})
moveFrame({-0.35,-0.819,1.649,0.703845,-0.710353,-0.00014468,0,-0.000203673,1,-0.710353,-0.703845,-0.000143354})
moveFrame({-0.35,-0.819,1.649,0.629412,-0.777072,-0.000158269,0,-0.000203673,1,-0.777072,-0.629412,-0.000128194})
moveFrame({-0.35,-0.819,1.649,0.54869,-0.836026,-0.000170276,0,-0.000203673,1,-0.836026,-0.54869,-0.000111753})
moveFrame({-0.3185,-0.819,1.6625,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({-0.2835,-0.819,1.6775,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({-0.2485,-0.819,1.6925,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({-0.2135,-0.819,1.7075,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({-0.1785,-0.819,1.7225,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({-0.1435,-0.819,1.7375,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({-0.1085,-0.819,1.7525,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({-0.0735,-0.819,1.7675,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({-0.0385,-0.819,1.7825,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({-0.0035,-0.819,1.7975,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({0,-0.819,1.799,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({0,-0.819,1.799,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({0,-0.819,1.799,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({0,-0.819,1.799,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({0,-0.819,1.799,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({0,-0.819,1.799,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({0,-0.819,1.799,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({0,-0.819,1.799,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({0,-0.819,1.799,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({0,-0.819,1.799,0.540302,-0.841471,-0.000171385,0,-0.000203673,1,-0.841471,-0.540302,-0.000110045})
moveFrame({-0.0315,-0.819,1.799,0.462485,-0.886627,-0.000180582,0,-0.000203673,1,-0.886627,-0.462485,-9.41959e-05})
moveFrame({-0.0665,-0.819,1.799,0.37166,-0.928369,-0.000189084,0,-0.000203673,1,-0.928369,-0.37166,-7.56972e-05})
moveFrame({-0.1015,-0.819,1.799,0.277121,-0.960835,-0.000195696,0,-0.000203673,1,-0.960835,-0.277121,-5.64421e-05})
moveFrame({-0.1365,-0.819,1.799,0.179813,-0.983701,-0.000200353,0,-0.000203673,1,-0.983701,-0.179813,-3.66231e-05})
moveFrame({-0.1715,-0.819,1.799,0.0807084,-0.996738,-0.000203009,0,-0.000203673,1,-0.996738,-0.0807084,-1.64381e-05})
moveFrame({-0.2065,-0.819,1.799,-0.0192025,-0.999816,-0.000203636,-0,-0.000203673,1,-0.999816,0.0192025,3.91103e-06})
moveFrame({-0.2415,-0.819,1.799,-0.118922,-0.992904,-0.000202228,-0,-0.000203673,1,-0.992904,0.118922,2.42211e-05})
moveFrame({-0.2765,-0.819,1.799,-0.217452,-0.976071,-0.000198799,-0,-0.000203673,1,-0.976071,0.217452,4.42892e-05})
moveFrame({-0.3115,-0.819,1.799,-0.313811,-0.949486,-0.000193385,-0,-0.000203673,1,-0.949486,0.313811,6.39148e-05})
moveFrame({-0.3465,-0.819,1.799,-0.407033,-0.913413,-0.000186038,-0,-0.000203673,1,-0.913413,0.407033,8.29018e-05})
